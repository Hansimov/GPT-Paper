Unraveling the "black-box" of artificial intelligence-based pathological analysis of liver cancer

# 1 Current advances of AI-based approaches for clinical management of liver cancer

## 1.1 AI-based prognostication of liver cancer

AI based on machine learning and deep learning has gained significant traction in the field of medical research, particularly in the domain of liver cancer. AI systems, developed through self-learning and data analysis, have the potential to assist in clinical decision-making by providing intelligent reasoning and optimal solutions. Early applications of AI in liver cancer focused on simple analyses of genetic and molecular data, using traditional machine learning methods such as support vector machines and random forest models. However, with the standardization of imaging diagnosis and its crucial role in clinical diagnosis, AI research based on imaging has gained prominence.

Deep learning techniques, specifically convolutional neural networks (CNNs), have played a pivotal role in advancing liver cancer research. These CNNs extract high-throughput features from large-scale image data, enabling the establishment of intelligent decision-making models to support clinical decision-making. The use of AI in liver cancer has attracted the attention of researchers worldwide, leading to a surge in related studies. Several reviews have provided an overview of deep learning, convolutional neural networks, and other AI technologies in liver cancer. These reviews have explored the applications of AI in imaging for the diagnosis, prognosis, and detection of liver cancer, shedding light on the limitations and future development trends in this field.

To gain a comprehensive understanding of the research progress, hotspots, and emerging trends in AI applications for liver cancer, quantitative analysis using bibliometrics has been employed. This analysis encompasses countries/regions, institutions, authors, journals, and keywords with the highest citations and publications. It offers insights into the global trends of publications and citations, highlighting the productive countries/regions and enabling an assessment of cooperation among authors and institutions. Furthermore, the analysis of top journals provides a gauge of the level of collaboration and relationships within concentrated fields of research.

In liver cancer research, different data types have been utilized. While initial studies focused on genetic and molecular data, the advent of medical imaging has led to a significant increase in research on CT, ultrasound, and MRI data. CT and MRI serve as the basis for clinical treatment strategies, while ultrasound is used for screening high-risk patients. However, challenges exist in ultrasound imaging, such as operator technique variability and low resolution. Despite these challenges, contrast-enhanced ultrasound has gained recognition as a recommended imaging modality for liver cancer diagnosis. Pathological and genetic data, which are costly and challenging to incorporate into AI models, have been less frequently utilized.

The use of AI in liver diseases extends beyond diagnosis and encompasses prognostication and response prediction. AI tools, such as radiomics and deep learning systems, have shown promise in liver imaging. Radiomics relies on classical machine learning methods, while deep learning systems leverage convolutional neural networks for automatic feature extraction. These approaches aid in the segmentation, classification of disease severity and lesions, and outcome prediction in liver imaging.

## 1.2 Molecular profiling of liver cancer via AI

AI has emerged as a powerful tool in the molecular profiling of liver cancer, enabling personalized treatment strategies. Leveraging AI techniques, improved hepatocellular carcinoma (HCC) risk prediction models have been developed to enhance risk stratification of patients with chronic liver disease. These models aid in personalizing HCC surveillance strategies by identifying patients at the highest risk of developing HCC within a specific timeframe. For instance, Ioannou and colleagues demonstrated that targeting patients with the uppermost 51% of their AI-derived HCC risk score would encompass 80% of patients who would develop HCC within the subsequent three years. This approach is particularly valuable in resource-limited settings where regular HCC surveillance for all at-risk patients may not be feasible.

Moreover, AI algorithms leveraging integrative multiomics approaches have shown promise in enhancing the detection and characterization of HCC tumors. The availability of large, complex datasets containing genomic and molecular data from bulk tissues and single cells has facilitated the development of these algorithms. By leveraging integrative multiomics data, AI algorithms can improve disease diagnosis, staging, and the prediction of disease recurrence and therapeutic response.

AI research in liver cancer has expanded beyond genetic and molecular data analysis to include medical imaging. The standardization of imaging diagnosis and its crucial role in clinical diagnosis have propelled the emergence of AI applications based on imaging data. Deep learning models, particularly those based on convolutional neural networks (CNNs), have facilitated significant advancements in liver cancer research.

Quantitative analysis using bibliometrics has been employed to assess the research progress, hotspots, and emerging trends in AI for liver cancer. Such analyses provide insights into the global trends of publications and citations, as well as the contributions of different countries, institutions, authors, and journals. Additionally, cluster co-occurrence analysis of keywords enables the identification of main research topics and trends in the field of AI for liver cancer.

While AI has made significant strides in liver cancer research, there are still areas that require further exploration. Current reviews and studies predominantly focus on the applications of AI in liver cancer diagnosis, with limited attention given to treatment response prediction, post-liver transplant response, and hepatotoxicity prediction for new drug development. Furthermore, the fusion analysis of multiple types of data in the diagnosis and treatment of liver cancer, as well as multi-modal treatment decision-making, remain relatively underexplored.

The adoption of AI in hepatology is poised to revolutionize patient management by improving diagnostics, prognostics, and treatment response prediction. Radiomics and deep learning systems have shown promise in liver imaging, enabling the segmentation, classification of disease severity and lesions, and outcome prediction. AI tools for liver segmentation and diagnosis are expected to become widely available within the next five years, facilitating improved liver lesion characterization and aiding in liver transplantation.

To fully harness the potential of AI in liver cancer, collaboration between clinicians, AI experts, and data scientists is vital. Coordinated research efforts will lead to the development of clinically useful tools and facilitate the integration of AI into routine clinical practice. Additionally, future research should focus on addressing unmet needs in liver diseases, such as alcohol-related liver injury, metabolic diseases, autoimmune liver diseases, and the correlation between histological structures and prognosis.

## 1.3 Exploring predictive indicators for therapy response

Recent advances in AI methodologies have made great strides in automatically quantifying pathological patterns based on digital histological slides. With the integration of digital slides into the pathology workflow, advanced algorithms and computeraided techniques expand and reinforce their utilization in tumor diagnosis, prognostic prediction and therapy targeting, which enable the interpretation of information beyond human limits and ultimately, improve patient management. For HCC, survival indicators after liver resection were proposed based on weakly supervised deep learning methods, exhibiting high accuracy. With largely uncovered invisible information available from HCC histology, further integration of recurrence prediction models and AI algorithms in transplant patients suffering from HCC deserve to be explored. Moreover, a comprehensive research on correlation between HCC histological structures and prognosis is urgently needed.

AI is a mathematical process of computer mediating designing of algorithms to support human intelligence. AI in hepatology has shown tremendous promise to plan appropriate management and hence improve treatment outcomes. The field of AI is in a very early phase with limited clinical use. AI tools such as machine learning, deep learning, and ‘big data’ are in a continuous phase of evolution, presently being applied for clinical and basic research. In this review, we have summarized various AI applications in hepatology, the pitfalls and AI's future implications. Different AI models and algorithms are under study using clinical, laboratory, endoscopic and imaging parameters to diagnose and manage liver diseases and mass lesions. AI has helped to reduce human errors and improve treatment protocols. Further research and validation are required for future use of AI in hepatology.

With the development of medical big data and computer technology, AI based on machine learning and deep learning has been widely used in current medical research. Through self-learning, summary, and induction of data, it can produce an intelligent reasoning system and choose the optimal solution to guide clinical decision-making. Original AI was based on traditional machine-learning methods, including support vector machine and random forest models, which all relied on human experience for learning and simple summary. As early as 2003, Hussain constructed a predictive system consisting of 12 genes, with Fisher’s linear classifier, for predicting early recurrence in patients with hepatocellular carcinoma (HCC). During this period, most studies have focused on simple analyses of data, such as genes and molecules. With the standardization of imaging diagnosis and its important role in the clinical diagnosis of liver cancer, AI research based on imaging has emerged by extracting high-throughput features that cannot be detected and defined by human eyes from large-scale image data to establish an intelligent decision-making model to assist clinical decision-making. In particular, deep learning based on convolutional neural networks (CNNs) has promoted progress in liver cancer research.

Patients with liver disease, particularly those with liver cancer, undergo multiple imaging studies to establish a diagnosis, preoperatively plan interventions, and monitor response to therapy (Table S2). Each of these imaging studies contains numerous data points that could be potentially analyzed to improve predictions. However, there is a formidable challenge in transforming this burden of clinical and imaging data into something of clinical value.

To facilitate the transformation of imaging data into clinically accessible information, AI may derive predictions in a more personalized fashion. Two categories of AI that have shown promise in liver imaging are radiomics (relying on classical ML) and DL systems (relying on CNNs). Radiomics is a strongly supervised and expert-guided approach where hardcoded algorithms extract quantitative image features that are fed into an ML algorithm. In contrast, DL with a CNN constitutes an automatic feature extraction where the algorithm self-learns salient features and self-optimizes parameters by running an input image through mathematical operations embedded in multiple layers. Because both approaches aim to predict a pre-defined "ground truth," they are considered supervised learning approaches. Herein, we review AI tools for liver imaging in segmentation, classification of disease severity and lesions, and outcome prediction.

Hepatocellular carcinoma (HCC) is among the leading causes of cancer incidence and death. Despite decades of research and development of new treatment options, the overall outcomes of patients with HCC continue to remain poor. There are areas of unmet need in risk prediction, early diagnosis, accurate prognostication, and individualized treatments for patients with HCC. Recent years have seen an explosive growth in the application of AI technology in medical research, with the field of HCC being no exception. Among the various AI-based machine learning algorithms, deep learning algorithms are considered state-of-the-art techniques for handling and processing complex multimodal data ranging from routine clinical variables to high-resolution medical images. This article will provide a comprehensive review of the recentlypublished studies that have applied deep learning for risk prediction, diagnosis, prognostication, and treatment planning for patients with HCC.

# 2 Current challenges limiting AI-based approaches in the management of liver cancer
The use of AI in liver cancer management presents several challenges and limitations. Initially, AI in medical research relied on traditional machine-learning methods, such as support vector machines and random forest models, which were limited by their dependence on human experience and simple data summary. However, the emergence of machine learning and deep learning algorithms, particularly deep learning based on convolutional neural networks (CNNs), has revolutionized liver cancer research. These algorithms have allowed the extraction of high-throughput features from large-scale image data, enabling the establishment of intelligent decision-making models to assist in clinical decision-making.

Despite the increasing interest and publication of studies on AI in liver cancer, there are still limitations in the current research landscape. Existing reviews on AI applications in liver cancer may not fully capture the latest research trends and hotspots due to a lack of comprehensive publications. To address this gap, quantitative analysis using bibliometrics is necessary to provide an in-depth understanding of the current research progress, hotspots, and emerging trends in AI for liver cancer.

Bibliometrics analysis provides valuable insights into the global trends of publications and citations, highlighting the most productive countries/regions, institutions, authors, and journals in the field of AI for liver cancer. This analysis can help identify patterns of collaboration between authors and institutions, facilitating cross-field cooperation in research. Additionally, the analysis of top journals can shed light on the level of cooperation and relationships within concentrated fields, further enhancing research collaboration. Furthermore, cluster co-occurrence analysis of keywords allows us to identify the main topics and research trends in the field of AI for liver cancer from various perspectives, including disease, data type, clinical goals, and clinical methods.

The availability and type of data used in AI research for liver cancer pose additional challenges and limitations. While early studies focused on genetic and molecular data analysis, the standardization of imaging diagnosis has led to a surge in AI research based on medical imaging. Computed tomography (CT), ultrasound, and magnetic resonance imaging (MRI) are the most commonly used data types in liver cancer research. CT and MRI provide critical information for clinical treatment strategies based on guidelines for liver cancer diagnosis. Ultrasound, as a screening method, is used for high-risk patients but has limitations due to operator technique and low resolution. Moreover, few studies have utilized pathological, genetic, and other clinical data, primarily due to the high cost of genetic examination and the challenges of multiomics research.

Furthermore, the application of AI in liver cancer treatment and prognosis remains limited. While studies have focused on the survival outcomes of specific surgical methods, such as radiofrequency ablation and transarterial chemoembolization, there is a lack of research on precision treatment methods and the integration of multiple data types for treatment decision-making. AI has the potential to contribute to these areas, but further research is needed.

# 3 Strategies for unraveling the "black-box" of AI-based pathological analysis of liver cancer
## 3.1 Model-based explanation
### 3.1.1 Support vector machine or random forests vs. deep learning

AI has emerged as a promising field in hepatology, offering potential benefits for liver cancer analysis and treatment outcomes. Various AI models and algorithms are being explored in the diagnosis and management of liver diseases and mass lesions. Machine learning, deep learning, and big data analytics are key components of AI in hepatology. Supervised learning algorithms, such as support vector machines (SVM), random forests, and gradient boosting, have been applied to make accurate predictions based on labeled sample data. On the other hand, unsupervised learning algorithms, including K-means clustering and principle component analysis, analyze unlabeled data to discover patterns and structures.

Deep learning, a subset of AI, has shown remarkable performance in liver cancer analysis. It has outperformed traditional methods like shear wave elastography in assessing liver fibrosis. Deep learning algorithms have also demonstrated superiority over conventional machine learning models in differentiating hepatocellular carcinoma (HCC) from cirrhotic parenchyma. Moreover, deep learning models have shown promising results in predicting disease progression and overall survival in HCC. However, overfitting is a common challenge in deep learning algorithms. To address this issue, multi-task learning has been introduced, which enhances the performance of individual tasks and controls overfitting. The construction of a multi-task deep learning neural network (MTnet) has been proposed to predict macrovascular invasion in HCC, facilitating early intervention.

In the field of liver cancer research, AI has evolved from traditional machine learning methods, such as support vector machines and random forest models, to more advanced deep learning approaches. The use of AI in liver cancer analysis has expanded beyond simple gene and molecule analysis to include medical imaging. Deep learning based on convolutional neural networks (CNNs) has played a significant role in extracting high-throughput features from large-scale image data for intelligent decision-making models in liver cancer diagnosis and treatment planning. AI has also been utilized in assisted imaging, aiding in the diagnosis, prognosis, and detection of liver cancer.

Quantitative analysis of AI in liver cancer research has provided valuable insights into the current progress, hotspots, and emerging trends in the field. Bibliometric analysis has been employed to examine the publication and citation trends, countries/regions, institutions, authors, journals, and keywords associated with AI in liver cancer. This analysis helps researchers better understand the global trends, collaborative networks, and research interests in the field of AI for liver cancer analysis.

### 3.1.2 Supervised learning vs. weakly supervised learning vs. unsupervised learning

AI has shown promise in liver cancer analysis, particularly in improving diagnostics, prognostics, and response prediction. In liver imaging, two categories of AI techniques have emerged: radiomics and deep learning systems. Radiomics relies on classical machine learning (ML) algorithms and is considered a strongly supervised and expert-guided approach. It involves the extraction of quantitative image features using hardcoded algorithms, which are then fed into an ML algorithm for prediction. On the other hand, deep learning (DL) systems, specifically those utilizing convolutional neural networks (CNNs), enable automatic feature extraction through self-learning. The CNN algorithm learns salient features and optimizes parameters by running input images through mathematical operations embedded in multiple layers. Both radiomics and DL with CNNs fall under supervised learning approaches as they aim to predict a pre-defined "ground truth."

In liver cancer analysis, AI tools based on both radiomics and DL systems have been employed in various tasks. These tasks include segmentation, classification of disease severity and lesions, and outcome prediction. Radiomics-based approaches leverage quantitative image features to segment liver tumors and identify disease severity and lesions. DL systems, particularly those based on CNNs, have shown significant progress in liver cancer research. They can extract high-throughput features from large-scale image data, which human eyes may not detect, and establish intelligent decision-making models to assist in clinical decision-making.

To reduce the burden of manual annotations in liver cancer analysis, weakly supervised learning approaches have been explored. These approaches involve training computational pathology (CPATH) algorithms using sparse manual annotations, such as dots or scribbles indicating small regions of interest, instead of dense annotations that label all pixels of an image. Weak supervision combined with advanced learning strategies has shown promising results in addressing segmentation and detection problems in CPATH methods. By combining sparse and dense annotations, the performance of weakly supervised systems can approach that of fully supervised systems.

Unsupervised learning algorithms, such as clustering and principle component analysis, have also been utilized in liver cancer analysis. These algorithms analyze the underlying structure or distribution within unlabeled sample data to discover new clusters or patterns. Unsupervised learning approaches can provide insights into the complex nature of liver cancer and uncover hidden relationships within the data.

It is worth noting that AI-based liver cancer analysis has gained significant attention in recent years, leading to a large number of related studies being published. These studies encompass a wide range of topics, including deep learning, convolutional neural networks, and other AI technologies applied to liver cancer diagnosis, prognosis, and detection. Researchers have also explored the limitations and future development trends of AI in liver cancer. However, there is still a need for quantitative analysis and comprehensive understanding of the current research progress, hotspots, and emerging trends in this field.

### 3.1.3 Textual explanation

#### 3.1.3.1 Image captioning
AI has emerged as a promising tool in the field of hepatocellular carcinoma (HCC) analysis, particularly in the interpretation of histopathologic images from liver biopsy. Deep learning (DL) models utilizing convolutional neural networks (CNNs) have shown great potential in automating the diagnostic and grading processes of HCC. These models can accurately differentiate HCC from adjacent normal tissues, as demonstrated by studies using multiphoton microscopy and hematoxylin and eosin (H&E) stained images. DL algorithms have also been employed to identify specific somatic mutations and predict disease prognosis.

Furthermore, DL models have proven effective in segmenting and classifying individual nuclei at the single-cell level, enabling the identification of distinct histologic subtypes of HCC. This feature extraction and clustering analysis approach has revealed subtypes that are independent of genomic clusters and have varying prognoses. Additionally, DL-based tools have been developed to assist pathologists in differentiating between HCC and cholangiocarcinoma, thereby improving diagnostic accuracy.

The integration of digital histological slides into the pathology workflow has facilitated the application of AI algorithms in liver cancer analysis. These algorithms have the potential to improve tumor diagnosis, prognostic prediction, and therapy targeting, ultimately enhancing patient management. In the context of liver transplantation, AI has been explored for the development of recurrence prediction models, which can aid in the personalized treatment of HCC. Moreover, the correlation between HCC histological structures and prognosis is an area of research that warrants further investigation.

In the field of hepatology, AI has been utilized for a range of applications, including liver fibrosis detection, non-alcoholic fatty liver disease (NAFLD) diagnosis, differentiation of focal liver lesions, and prognostication of chronic liver disease (CLD). AI algorithms have shown promise in detecting liver fibrosis by analyzing medical imaging data, such as CT, ultrasound, and MRI. Radiomics and DL systems have been employed to extract quantitative image features and automatically learn salient features, respectively, enabling the prediction of disease severity and outcome.

To improve risk stratification and facilitate early detection of hepatocellular carcinoma, AI approaches have been employed to analyze indeterminate liver lesions imaged by CT or MRI. By identifying pathognomonic features of HCC, these approaches can reduce the need for liver biopsy and minimize patient stress. Moreover, DL models have been developed to assist hepatopathologists in the diagnosis of liver tumors, achieving high accuracy when combined with pathologists' expertise.

#### 3.1.3.2 Image captioning with visual explanation

AI has revolutionized medical image analysis, including the field of liver cancer pathology. One form of explainable AI (XAI) that contributes to a comprehensive understanding of liver cancer pathology is the combination of textual descriptions with visual explanations. Textual explanation in XAI involves providing descriptive information in the form of text, ranging from simple characteristics to complete medical reports. There are three types of textual explanation commonly used in this context: image captioning, image captioning with visual explanation, and testing with concept attribution.

The integration of digital histological slides into the pathology workflow has expanded the use of AI algorithms in liver cancer diagnosis, prognostic prediction, and therapy targeting. Advanced algorithms and computer-aided techniques allow for the interpretation of information beyond human limits, ultimately improving patient management. Deep learning methods have been particularly effective in survival indicator prediction for hepatocellular carcinoma (HCC) based on weakly supervised learning. However, further research is needed to explore the integration of recurrence prediction models and AI algorithms in transplant patients with HCC, as well as the correlation between HCC histological structures and prognosis.

AI research on liver cancer has gained significant momentum, especially since 2017, with China leading in terms of publications and the United States leading in H-index and total citation counts. The most productive institutions in this field are the League of European Research Universities, Sun Yat Sen University, and Zhejiang University. Computed tomography (CT) is the most commonly used diagnostic tool, followed by ultrasound and magnetic resonance imaging (MRI). The main research goals in AI for liver cancer include diagnosis, differential diagnosis, and postoperative analysis of patients with advanced liver cancer. Convolutional neural networks (CNNs) are the primary technical method used in AI studies on liver cancer.

The use of AI in liver cancer has the potential to greatly improve diagnostics, prognostics, and response prediction. It enables automated identification and classification of common benign and malignant liver lesions, aiding pathologists in establishing accurate diagnoses. This technology also facilitates the integration of large clinical, radiological, and pathological datasets using AI, leading to improved personalized oncology therapy concepts. Furthermore, AI tools have been developed for the segmentation, classification of disease severity and lesions, and outcome prediction in liver imaging.

To ensure transparency and interpretability of AI models in medical imaging, various techniques have been developed, such as radiomics and deep learning with convolutional neural networks (CNNs). Radiomics relies on classical machine learning algorithms, while deep learning with CNNs enables automatic feature extraction and optimization. These approaches have shown promise in liver imaging for segmentation, classification, and outcome prediction.

The development of AI in hepatology has progressed rapidly, with applications in liver fibrosis detection, non-alcoholic fatty liver disease (NAFLD) diagnosis, differentiation of focal liver lesions, hepatocellular cancer diagnosis, and prognosis of chronic liver disease (CLD). The conglomeration of clinical/laboratory data, multi-omics data, and image recognition has contributed to the prediction of fibrosis, classification of liver masses, and prediction of treatment response and transplant outcomes. However, more studies are needed to predict treatment response, post-liver transplant response, and hepatotoxicity in newer drug development.

### 3.1.4 Example-based explanation
#### 3.1.4.1 Triplet network

The field of explainable artificial intelligence (XAI) has gained significant attention in deep learning-based medical image analysis, including the analysis of liver cancer. Model-based explanation and example-based explanation are two techniques used in XAI. Model-based explanation is specific to a certain model and relies on the internal structure of the model to provide explanations. On the other hand, example-based explanation focuses on providing examples related to the data point being analyzed, similar to how humans reason. In the context of liver cancer analysis, example-based explanation is particularly useful when trying to understand the decision-making process of a neural network.

One approach to implementing example-based explanation is through the use of a triplet network. A triplet network consists of three identical networks with shared parameters. It operates by feeding the network three input samples, which allows the network to calculate two distances: the distance between an anchor sample and a positive sample (which are similar) and the distance between the anchor sample and a negative sample (which are dissimilar). By optimizing the hidden layers of the neural network, known as the latent space, the triplet network aims to ensure that similar data points are closer to each other in the latent space, while dissimilar points are further apart.

In the context of liver cancer analysis, researchers have applied example-based explanation using triplet networks. For instance, Peng et al. utilized a triplet loss and hashing technique to train a convolutional neural network (CNN) for colorectal cancer histology. The trained network learned an embedding that preserves similarity, and in testing, a coarse-to-fine search was performed to identify the 10 nearest examples from a testing database related to the input image. This approach provided explanation by identifying images similar to the one being analyzed, aiding in understanding the decision made by the network.

Example-based explanation using triplet networks offers a valuable tool for understanding the decision-making process of AI models in liver cancer analysis. By optimizing the latent space and finding similar examples, it provides insights into the reasoning behind the network's decisions. This approach can assist pathologists and clinicians in interpreting the results of AI-based liver cancer analysis and enhance decision-making in clinical practice.


#### 3.1.4.2 Prototypes

AI has gained significant attention in the field of liver cancer analysis, particularly in the development of machine learning and deep learning algorithms. These AI models utilize prototypes, which are typical examples, to explain their decision-making processes (1, 2). Prototypes serve as representations of specific classes and are used to determine similarities between input data and the learned examples.

One approach proposed by Chen et al. (2019) involves incorporating a prototype layer into a neural network architecture. The training inputs are grouped into classes in the latent space, and a prototype is selected for each class based on a typical example. During testing, the AI model identifies parts of the input data that resemble these trained prototypes and computes a weighted combination of similarities to make predictions.

Uehara et al. (2019) applied a similar concept to explain the classification of histology image patches as cancerous or non-cancerous. Their neural network model determined the regions of the image on which the decision was based and quantified the extent to which these regions resembled the learned prototypes.

These prototype-based explanation methods align with case-based reasoning, a cognitive process employed by humans. When explaining why an image contains a specific object, humans often refer to their internal mental representations of similar objects they have encountered before. Similarly, AI models with prototypes can provide explanations by referencing the typical examples they have learned during training.

In liver cancer analysis, the use of prototypes helps in interpreting the decisions made by AI models when analyzing medical images, such as computed tomography (CT), ultrasound, and magnetic resonance imaging (MRI) scans. By comparing the input image regions with the learned prototypes, the AI model can provide insights into the features that contribute to its decision, enhancing the explainability of its predictions.

The integration of AI with liver cancer analysis has the potential to improve diagnostics, prognostics, and treatment decision-making. Despite the advancements in AI methodologies, there are challenges to address for the practical implementation of these prototype-based models. The interpretability and transparency of AI algorithms remain important considerations to ensure trust and acceptance among medical professionals and patients.

## 3.2 Post hoc explanation
### 3.2.1 Visual explanation (saliency mapping, pathologist-in-the-loop)
#### 3.2.1.1 Backpropagation-based approaches
Backpropagation-based approaches have been widely used in visual explanation techniques for AI-based liver cancer analysis. These approaches involve the use of (Guided) backpropagation, deconvolution, and guided Grad-CAM to generate saliency maps that highlight pixels with the highest impact on the analysis output. By visualizing partial derivatives of the output on a pixel level, these techniques provide local, model-specific explanations. For example, de Vos et al. utilized deconvolution to visualize the decision-making process based on coronary artery calcium estimation in cardiac or chest computed tomography (CT) images. However, it is important to exercise caution when using guided backpropagation and guided Grad-CAM methods as they have shown a tendency to emphasize edges, potentially leading to misleading visual explanations;.

In the field of medical image analysis, visual explanation techniques can be broadly categorized into backpropagation-based and perturbation-based techniques. Backpropagation-based techniques involve a single pass back through the neural network and are relatively fast compared to perturbation-based techniques, which require extensive perturbation of input images to measure the influence on the output. The computational needs of perturbation-based techniques make them more computationally expensive, particularly in the case of 3-dimensional, 4-dimensional, and multi-modality medical images commonly encountered in liver cancer analysis.

Most backpropagation techniques for visual explanation have a limited number of parameters to tune. Techniques such as Grad-CAM require the user to choose the layer for inspecting the activation, while Deep SHAP necessitates selecting samples from the training set to calculate a background signal. These techniques offer flexibility and simplicity in their implementation.

Another area of research focuses on improving the characterization of indeterminate liver lesions to facilitate earlier and more accurate detection of hepatocellular carcinoma (HCC). Current practice involves further imaging or liver biopsy for indeterminate liver lesions detected through abdominal ultrasound. However, this approach is sub-optimal, resulting in unnecessary imaging studies, patient stress, and delayed diagnoses. AI-based approaches have been explored to improve risk stratification of these indeterminate liver lesions, enabling more efficient detection of HCC.

The development of AI in liver cancer research has seen significant progress. Early studies focused on simple analyses of data, such as genetic or molecular data, using traditional machine learning methods. However, with the standardization of imaging diagnosis, AI research based on medical imaging has emerged, leveraging deep learning techniques such as convolutional neural networks (CNNs). These AI models can extract high-throughput features from large-scale image data that are not easily detected by the human eye, enabling the establishment of intelligent decision-making models for clinical use.

#### 3.2.1.2 Perturbation-based approaches

Perturbation-based approaches are a valuable technique for providing visual explanations in AI-based liver cancer analysis. These techniques involve perturbing the input images to assess the importance of certain areas of the image for the task at hand. Zeiler and Fergus (2014) utilized occlusion sensitivity analysis to visualize the crucial parts of an image for classification. For instance, they discovered that an image of a dog holding a tennis ball was correctly classified as the dog's breed, except when the dog's face was occluded, resulting in an incorrect classification of "tennis ball." This method helps identify the critical regions of an image that contribute most to the classification process.

Fong and Vedaldi (2017) introduced meaningful perturbation as an alternative approach, where the input image is perturbed to detect changes in the predictions of a neural network. Instead of blocking out parts of the image as in occlusion sensitivity, they proposed simulating naturalistic or plausible effects, leading to more meaningful perturbations and explanations. They explored three types of local perturbations: constant value, noise, and blurring. These techniques enable a better understanding of how different perturbations affect the prediction and contribute to more interpretable explanations.

It is important to note that there are computational differences between backpropagation-based and perturbation-based techniques. Backpropagation-based techniques involve a single pass back through the neural network, which is relatively fast. In contrast, perturbation-based techniques require extensive perturbation of input images to measure the influence of these perturbations on the output. Consequently, perturbation-based techniques are generally more computationally expensive, especially when dealing with complex medical images such as 3-dimensional, 4-dimensional, and multi-modality images encountered in liver cancer analysis.

Perturbation-based visual explanation techniques often require the choice of a specific perturbation method. For example, both occlusion sensitivity and LIME (Local Interpretable Model-Agnostic Explanations) necessitate the user to define the size and shape of the occluded areas. Similarly, meaningful perturbation requires the user to determine the most suitable perturbation technique. These choices can significantly impact the resulting explanations and should be carefully considered based on the specific analysis requirements.

The field of liver cancer analysis has witnessed significant growth in AI approaches to improve risk stratification of indeterminate liver lesions. Current clinical practices involve further imaging or liver biopsy for accurate diagnosis, leading to numerous imaging studies, patient stress, and potential delays in diagnosis. AI-based approaches aim to enhance the characterization of these lesions, facilitating earlier and more accurate detection of hepatocellular carcinoma (HCC). By leveraging AI techniques, researchers can develop models that improve risk stratification and reduce the need for invasive procedures or extensive follow-up imaging.

Overall, perturbation-based approaches offer valuable insights into the interpretation and understanding of AI-based liver cancer analysis. These techniques allow for the identification of critical regions in images and provide meaningful explanations for the predictions made by AI models. By leveraging perturbation-based techniques, researchers can enhance the transparency and interpretability of AI systems in liver cancer analysis, contributing to improved clinical decision-making and patient outcomes.


#### 3.2.1.3 Multiple instance learning-based approaches

Multiple instance learning (MIL) plays a significant role in providing visual explanations in AI-based liver cancer analysis. MIL is a technique where training sets consist of bags of instances, and the instances within each bag are labeled collectively (Dietterich et al., 1997). In the context of medical image analysis, MIL can be implemented using a patch-based approach, where an image represents the bag and patches extracted from that image represent the instances (Cheplygina et al., 2019). By utilizing MIL, researchers can generate visual explanations and enhance interpretability in liver cancer analysis.

One notable application of MIL in medical image analysis is the use of patch-based MIL for generating visual explanations. Researchers have employed MIL to analyze medical images, such as liver histopathology slides, and identify regions of interest or abnormalities. For example, Peng et al. (2019) utilized example-based explanation in colorectal cancer histology by training a convolutional neural network (CNN) using a triplet loss and generating visual explanations based on similar images from a testing database. This approach provided valuable insights into the decision-making process of the network.

Furthermore, MIL-based approaches have been utilized for the interpretation of liver cancer prognosis and treatment response. Deep learning algorithms, such as CNNs, have demonstrated superior performance in predicting disease progression and overall survival in hepatocellular carcinoma (HCC) (Multi-task deep learning network to predict future macrovascular invasion in hepatocellular carcinoma). By leveraging MIL, these models can capture the relationships between various tasks and improve the accuracy of individual predictions.

The integration of MIL-based approaches in liver cancer analysis contributes to the advancement of explainable artificial intelligence (XAI) in medical image analysis. MIL allows for the identification of relevant instances within bags, enabling the generation of visual explanations that highlight key features and regions of interest in liver images. These explanations can assist medical professionals in understanding the decision-making process of AI models and provide valuable insights for diagnosis, prognosis, and treatment planning.

In summary, multiple instance learning-based approaches, such as patch-based MIL, have emerged as valuable tools for generating visual explanations in AI-based liver cancer analysis. By leveraging MIL, researchers can enhance the interpretability of deep learning models, provide insights into the decision-making process, and facilitate more informed decision-making in liver cancer diagnosis and treatment.

### 3.2.2 Textual explanation

AI based on machine learning and deep learning has found extensive applications in medical research, including liver cancer analysis. AI has the ability to produce intelligent reasoning systems through self-learning, data summary, and induction, which can assist in clinical decision-making. While early AI models relied on traditional machine learning methods, recent advancements in deep learning, particularly convolutional neural networks (CNNs), have significantly impacted liver cancer research. AI research in liver cancer has expanded to include imaging analysis, where high-throughput features are extracted from large-scale image data using deep learning techniques. This approach has improved the accuracy and efficiency of liver cancer diagnosis and clinical decision-making.

Quantitative analysis of the existing studies on AI in liver cancer is essential to assess the current research progress, identify hotspots, and determine emerging trends. Bibliometrics, a method of information visualization, allows for a comprehensive analysis of the literature in a specific research field. By analyzing countries/regions, institutions, authors, and journals with the highest citations and publications, as well as keywords, bibliometrics provides valuable insights into the global development trend and research hotspots of AI in liver cancer. Such analysis helps researchers better understand and grasp future research interests.

In the field of medical image analysis, post hoc explanation techniques play a crucial role in understanding the learned relationships of AI models. Post hoc explanation involves analyzing a trained neural network and providing insights into its behavior. Various methods, including inspection of learned features, feature importance, interaction of features, and visual explanation through saliency maps, contribute to post hoc explanation. Textual explanation is a form of explainable AI (XAI) that provides descriptions in the form of medical reports or image captions. Textual explanations in medical image analysis can enhance the interpretability of AI models and facilitate post hoc analysis of their decisions.


#### 3.2.3 Example-based explanation

AI based on machine learning and deep learning has been widely used in current medical research, including the field of liver cancer. AI utilizes self-learning, data summarization, and induction to produce intelligent reasoning systems that can assist in clinical decision-making. Traditional machine learning methods, such as support vector machines and random forest models, initially relied on human experience for learning and simple data summarization. However, with the emergence of deep learning based on convolutional neural networks (CNNs), significant progress has been made in liver cancer research.

In recent years, there has been a growing interest in the application of AI in liver cancer, leading to a large number of related studies being published. These studies cover various aspects, including deep learning, convolutional neural networks, and other AI technologies applied in liver cancer. Furthermore, there are reviews highlighting the applications of AI in assisting imaging for the diagnosis, prognosis, and detection of liver cancer. However, current reviews may have limitations in capturing the latest research trends due to a lack of a substantial number of publications.

To address this gap, quantitative analysis using bibliometrics has been conducted to provide an in-depth understanding of the research progress, hotspots, and emerging trends in AI for liver cancer. This analysis encompasses the examination of countries/regions, institutions, authors, journals with the highest citations and publications, and keywords. By analyzing the global trend of publications and citations, as well as productive countries/regions, researchers can gain comprehensive insights into the development trends of AI in liver cancer. The analysis of institutions, authors, and co-cited authors further quantifies the strength of collaboration between researchers and institutions.

Top journals in the field of AI in liver cancer are analyzed to assess the level of cooperation and relationships within concentrated research areas. Cluster co-occurrence analysis of keywords from different perspectives, such as disease, data type, clinical goals, and clinical methods, provides valuable information on the main topics and research trends in AI for liver cancer.

Through systematic and quantitative analysis, the current research status of AI in liver cancer has been examined. It is evident that AI has undergone rapid development and has found wide application in the diagnosis and treatment of liver diseases, particularly in countries with a high incidence of liver cancer like China. Intelligent analysis of imaging data has emerged as a prominent research hotspot in this field. However, there is still a need for research focusing on the fusion analysis of multiple data types in the diagnosis and treatment process of liver cancer, as well as multi-modal treatment decision-making.

# 4 Conclusion and future applications

AI has made significant advancements in the analysis of liver cancer, and its potential for future developments in the field is promising. The integration of AI with medical big data and computer technology has revolutionized liver cancer research, particularly in the realm of imaging diagnosis. Traditional machine-learning methods have paved the way for more sophisticated approaches like deep learning, utilizing convolutional neural networks (CNNs), and achieving remarkable progress in liver cancer analysis.

The current state of AI in liver cancer analysis is characterized by a growing body of literature and a surge in research publications. Quantitative analysis of the existing studies using bibliometrics has provided valuable insights into the research progress, hotspots, and emerging trends in this field. By examining publications, citations, and collaborations, researchers have gained a comprehensive understanding of the development trends of AI in liver cancer.

China has emerged as the most productive country in the field of AI in liver cancer, likely due to its high incidence of liver cancer cases. However, the United States ranks first in terms of the H-index, citations, and average citations per paper, indicating the impact and influence of American research in this area. Institutions such as the League of European Research Universities, Sun Yat Sen University, and Zhejiang University have shown significant productivity in AI research on liver cancer.

Journals specializing in AI in liver cancer demonstrate a high level of concern and recognition, with many ranking in the top tier based on the Journal Citation Reports (JCR) scores. This indicates the maturity of the field and the medical community's emphasis on AI applications in liver cancer. Collaboration and cross-field cooperation among researchers, institutions, and journals are crucial for advancing the field and promoting interdisciplinary research.

In terms of data types, AI research in liver cancer has expanded from genetic and molecular data to include medical imaging, such as CT, ultrasound, and MRI. These imaging techniques play a vital role in the diagnosis and treatment of liver cancer, providing a wealth of high-throughput features that can be extracted using AI algorithms. CT and MRI have become indispensable tools for clinical treatment strategies, while ultrasound serves as a screening method for high-risk patients. The integration of AI with imaging data has the potential to enhance diagnostic accuracy and assist in treatment decision-making.

Looking ahead, the future developments in AI for liver cancer analysis hold great promise. While the current focus is on intelligent analysis of imaging data, there is potential for AI to play a more significant role in the fusion analysis of multiple data types and the development of multimodal treatment plans. Accurate screening of early-stage liver cancer patients, selection of treatment decisions for advanced cases, and prediction of treatment response are areas that require further exploration and research.